<table style="width:100%;margin-top:15px;">
                  <tr>
                    <td class="text-left">
                      FECHA:
                    </td>
                    <td class="text-right">
                      <span t-esc="o.get_session_date_x(o.start_at)"/>
                    </td>
                  </tr>
                  <tr>
                    <td class="text-left">
                      IMPRESIÓN:
                    </td>
                    <td class="text-right">
                      <span t-esc="o.get_current_date_x()"/>
                    </td>
                  </tr>
                  <tr>
                    <td class="text-left">
                      HORA:
                    </td>
                    <td class="text-right">
                      <span t-esc="o.get_current_time_x()"/>
                    </td>
                  </tr>
                </table>
                <table style="width:100%;margin-top:15px;">
                  <tr>
                    <td class="text-left">
                      POS #
                    </td>
                    <td class="text-right">
                      <span t-esc="o.config_id"/>---<span t-esc="o.config_id.name"/>---<span t-esc="o.display_name"/>
                    </td>
                  </tr>
                  <tr>
                    <td class="text-left">
                      CAJA #
                    </td>
                    <td class="text-right">
                      <span t-esc="o.name"/>
                    </td>
                  </tr>
                  <tr>
                    <td class="text-left">
                      USUARIO:
                    </td>
                    <td class="text-right">
                      <span t-esc="o.user_id.name"/>
                    </td>
                  </tr>
                  <tr>
                    <td class="text-left">
                      ESTADO:
                    </td>
                    <td class="text-right">
                      <span t-esc="o.state"/>
                    </td>
                  </tr>
                  <tr>
                    <td class="text-left">
                      FECHA DE INICIO:
                    </td>
                    <td class="text-right">
                      <span t-esc="o.get_session_date_x(o.start_at)"/>
                    </td>
                  </tr>
                  <tr>
                    <td class="text-left">
                      HORA DE APERTURA:
                    </td>
                    <td class="text-right">
                      <span t-esc="o.get_session_time_x(o.start_at)"/>
                    </td>
                  </tr>
                </table>
                ---------------------------------------------------------
                <table style="width:100%;margin-top:15px;">
                  <tr>
                    <td class="text-left">
                      FACTURAS:
                    </td>
                    <td class="text-left">
                      <span t-esc="o.get_invoice_range_no_contr()"/>
                    </td>
                  </tr>
                  <tr>
                    <td class="text-left">
                      TOTAL VENTAS GRAVADAS
                    </td>
                    <td class="text-right">
                      <span t-field="o.currency_id.symbol"/><span t-esc="'{0:.2f}'.format(o.get_total_sales_invoice_gravado_no_contr())"/>
                    </td>
                  </tr>
                  <tr>
                    <td class="text-left">
                      TOTAL VENTAS EXENTAS
                    </td>
                    <td class="text-right">
                      <span t-field="o.currency_id.symbol"/><span t-esc="'{0:.2f}'.format(o.get_total_sales_invoice_exento_no_contr())"/>
                    </td>
                  </tr>
                  <tr>
                    <td class="text-left">
                      TOTAL VENTAS NO SUJETAS
                    </td>
                    <td class="text-right">
                      <span t-field="o.currency_id.symbol"/><span t-esc="'{0:.2f}'.format(o.get_total_sales_invoice_no_aplica_no_contr())"/>
                    </td>
                  </tr>
                  <tr>
                    <td align="right" colspan="2">
                      ----------------------
                    </td>
                  </tr>
                  <tr>
                    <td class="text-left">
                      TOTAL
                    </td>
                    <td class="text-right">
                      <t t-set="total1" t-value="o.get_total_sales_invoice_gravado_no_contr() + o.get_total_sales_invoice_exento_no_contr() + o.get_total_sales_invoice_no_aplica_no_contr()"/>
                      <span t-esc="total1" t-esc-options='{"widget": "monetary", "display_currency": "o.currency_id"}'/>
                    </td>
                  </tr>
                </table>
                <table style="width:100%;margin-top:15px;">
                  <tr>
                    <td class="text-left">
                      CCF:
                    </td>
                    <td class="text-left">
                      <span t-esc="o.get_invoice_range_ccf()"/>
                    </td>
                  </tr>
                  <tr>
                    <td class="text-left">
                      TOTAL VENTAS GRAVADAS
                    </td>
                    <td class="text-right">
                      <span t-field="o.currency_id.symbol"/><span t-esc="'{0:.2f}'.format(o.get_total_sales_invoice_gravado_ccf())"/>
                    </td>
                  </tr>
                  <tr>
                    <td class="text-left">
                      TOTAL VENTAS EXENTAS
                    </td>
                    <td class="text-right">
                      <span t-field="o.currency_id.symbol"/><span t-esc="'{0:.2f}'.format(o.get_total_sales_invoice_exento_ccf())"/>
                    </td>
                  </tr>
                  <tr>
                    <td class="text-left">
                      TOTAL VENTAS NO SUJETAS
                    </td>
                    <td class="text-right">
                      <span t-field="o.currency_id.symbol"/><span t-esc="'{0:.2f}'.format(o.get_total_sales_invoice_no_aplica_ccf())"/>
                    </td>
                  </tr>
                  <tr>
                    <td align="right" colspan="2">
                      ----------------------
                    </td>
                  </tr>
                  <tr>
                    <td class="text-left">
                      TOTAL
                    </td>
                    <td class="text-right">
                      <t t-set="total2" t-value="o.get_total_sales_invoice_gravado_ccf() + o.get_total_sales_invoice_exento_ccf() + o.get_total_sales_invoice_no_aplica_ccf()"/>
                      <span t-esc="total2" t-esc-options='{"widget": "monetary", "display_currency": "o.currency_id"}'/>
                    </td>
                  </tr>
                </table>
                <table style="width:100%;margin-top:15px;">
                  <tr>
                    <td class="text-left">
                      TIQUETE:
                    </td>
                    <td class="text-left">
                      <span t-esc="o.get_ticket_range()"/>
                    </td>
                  </tr>
                  <tr>
                    <td class="text-left">
                      TOTAL VENTAS
                    </td>
                    <td class="text-right">
                      <span t-field="o.currency_id.symbol"/><span t-esc="'{0:.2f}'.format(o.get_total_sales_tickets())"/>
                    </td>
                  </tr>
                  <tr>
                    <td class="text-left">
                      DEVOLUCIONES
                    </td>
                    <td class="text-right">
                      <span t-esc="o.get_total_returns_tickets_x()" t-esc-options='{"widget": "monetary", "display_currency": "o.currency_id"}'/>
                    </td>
                  </tr>
                  <tr>
                    <td class="text-left">
                      TOTAL VENTAS GRAVADAS
                    </td>
                    <td class="text-right">
                      <span t-field="o.currency_id.symbol"/><span t-esc="'{0:.2f}'.format(o.get_total_sales_ticket_gravado())"/>
                    </td>
                  </tr>
                  <tr>
                    <td class="text-left">
                      TOTAL VENTAS EXENTAS
                    </td>
                    <td class="text-right">
                      <span t-field="o.currency_id.symbol"/><span t-esc="'{0:.2f}'.format(o.get_total_sales_ticket_exento())"/>
                    </td>
                  </tr>
                  <tr>
                    <td class="text-left">
                      TOTAL VENTAS NO SUJETAS
                    </td>
                    <td class="text-right">
                      <span t-field="o.currency_id.symbol"/><span t-esc="'{0:.2f}'.format(o.get_total_sales_ticket_no_aplica())"/>
                    </td>
                  </tr>
                  <tr>
                    <td align="right" colspan="2">
                      ----------------------
                    </td>
                  </tr>
                  <tr>
                    <td class="text-left">
                      TOTAL
                    </td>
                    <td class="text-right">
                      <t t-set="total3" t-value="o.get_total_sales_tickets() - o.get_total_returns_tickets_x()"/>
                      <span t-esc="total3" t-esc-options='{"widget": "monetary", "display_currency": "o.currency_id"}'/>
                    </td>
                  </tr>
                </table>
                <div align="center">
                  ---------------------------------------------------------------------------------------
                  <br/>*DETALLE DE PAGOS*<br/>
                  ---------------------------------------------------------------------------------------
                </div>
                <table style="width:100%;margin-top:15px;">
                  <t t-set="total" t-value="0"/>
                  <tr t-foreach="o.get_payments()" t-as="l">
                    <td class="text-left">
                      <span t-esc="l.get('name')"/>
                    </td>
                    <td class="text-right">
                      <span t-field="o.currency_id.symbol"/><span t-esc="l.get('sum')"/>
                    </td>
                  </tr>
                  <tr>
                    <td align="right" colspan="2">
                      ----------------------
                    </td>
                    <t t-set="total" t-value="total + l.get('sum')"/>
                  </tr>
                  <tr>
                    <td class="text-left">
                      TOTAL
                    </td>
                    <td style="width:50%; !important" class="text-right">
                      <span t-esc="total" t-esc-options='{"widget": "monetary", "display_currency": "o.currency_id"}'/>
                    </td>
                  </tr>
                </table>





++++++++++++++++++++++++++++++++++++Reporte Z==========================================

<table style="width:100%;margin-top:15px;">
                          <tr>
                            <td class="text-left">
                              FACTURAS:
                            </td>
                            <td class="text-right">
                              <span t-esc="o.get_invoice_range_no_contr()"/>
                            </td>
                          </tr>
                          <tr>
                            <td class="text-left">
                              TOTAL VENTAS GRAVADAS
                            </td>
                            <td class="text-right">
                              <span t-field="o.currency_id.symbol"/><span t-esc="'{0:.2f}'.format(o.get_total_sales_invoice_gravado_no_contr())"/>
                            </td>
                          </tr>
                          <tr>
                            <td class="text-left">
                              TOTAL VENTAS EXENTAS
                            </td>
                            <td class="text-right">
                              <span t-field="o.currency_id.symbol"/><span t-esc="'{0:.2f}'.format(o.get_total_sales_invoice_exento_no_contr())"/>
                            </td>
                          </tr>
                          <tr>
                            <td class="text-left">
                              TOTAL VENTAS NO SUJETAS
                            </td>
                            <td class="text-right">
                              <span t-field="o.currency_id.symbol"/><span t-esc="'{0:.2f}'.format(o.get_total_sales_invoice_no_aplica_no_contr())"/>
                            </td>
                          </tr>
                          <tr>
                            <td align="right" colspan="2">
                              ----------------------
                            </td>
                          </tr>
                          <tr>
                            <td class="text-left">
                              TOTAL
                            </td>
                            <td class="text-right">
                              <t t-set="total1" t-value="o.get_total_sales_invoice_gravado_no_contr() + o.get_total_sales_invoice_exento_no_contr() + o.get_total_sales_invoice_no_aplica_no_contr()"/>
                              <span t-esc="total1" t-esc-options='{"widget": "monetary", "display_currency": "o.currency_id"}'/>
                            </td>
                          </tr>
                        </table>
                        <table style="width:100%;margin-top:15px;">
                          <tr>
                            <td class="text-left">
                              CCF:
                            </td>
                            <td class="text-right">
                              <span t-esc="o.get_invoice_range_ccf()"/>
                            </td>
                          </tr>
                          <tr>
                            <td class="text-left">
                              TOTAL VENTAS GRAVADAS
                            </td>
                            <td class="text-right">
                              <span t-field="o.currency_id.symbol"/><span t-esc="'{0:.2f}'.format(o.get_total_sales_invoice_gravado_ccf())"/>
                            </td>
                          </tr>
                          <tr>
                            <td class="text-left">
                              TOTAL VENTAS EXENTAS
                            </td>
                            <td class="text-right">
                              <span t-field="o.currency_id.symbol"/><span t-esc="'{0:.2f}'.format(o.get_total_sales_invoice_exento_ccf())"/>
                            </td>
                          </tr>
                          <tr>
                            <td class="text-left">
                              TOTAL VENTAS NO SUJETAS
                            </td>
                            <td class="text-right">
                              <span t-field="o.currency_id.symbol"/><span t-esc="'{0:.2f}'.format(o.get_total_sales_invoice_no_aplica_ccf())"/>
                            </td>
                          </tr>
                          <tr>
                            <td align="right" colspan="2">
                              ----------------------
                            </td>
                          </tr>
                          <tr>
                            <td class="text-left">
                              TOTAL
                            </td>
                            <td class="text-right">
                              <t t-set="total2" t-value="o.get_total_sales_invoice_gravado_ccf() + o.get_total_sales_invoice_exento_ccf() + o.get_total_sales_invoice_no_aplica_ccf()"/>
                              <span t-esc="total2" t-esc-options='{"widget": "monetary", "display_currency": "o.currency_id"}'/>
                            </td>
                          </tr>
                        </table>
                        <table style="width:100%;margin-top:15px;">
                          <tr>
                            <td class="text-left">
                              TIQUETE:
                            </td>
                            <td class="text-right">
                              <span t-esc="o.get_ticket_range()"/>
                            </td>
                          </tr>
                          <tr>
                            <td class="text-left">
                              TOTAL VENTAS
                            </td>
                            <td class="text-right">
                              <span t-field="o.currency_id.symbol"/><span t-esc="'{0:.2f}'.format(o.get_total_sales_tickets())"/>
                            </td>
                          </tr>
                          <tr>
                            <td class="text-left">
                              DEVOLUCIONES
                            </td>
                            <td class="text-right">
                              <span t-esc="o.get_total_returns_tickets_x()" t-esc-options='{"widget": "monetary", "display_currency": "o.currency_id"}'/>
                            </td>
                          </tr>
                          <tr>
                            <td class="text-left">
                              TOTAL VENTAS GRAVADAS
                            </td>
                            <td class="text-right">
                              <span t-field="o.currency_id.symbol"/><span t-esc="'{0:.2f}'.format(o.get_total_sales_ticket_gravado())"/>
                            </td>
                          </tr>
                          <tr>
                            <td class="text-left">
                              TOTAL VENTAS EXENTAS
                            </td>
                            <td class="text-right">
                              <span t-field="o.currency_id.symbol"/><span t-esc="'{0:.2f}'.format(o.get_total_sales_ticket_exento())"/>
                            </td>
                          </tr>
                          <tr>
                            <td class="text-left">
                              TOTAL VENTAS NO SUJETAS
                            </td>
                            <td class="text-right">
                              <span t-field="o.currency_id.symbol"/><span t-esc="'{0:.2f}'.format(o.get_total_sales_ticket_no_aplica())"/>
                            </td>
                          </tr>
                          <tr>
                            <td align="right" colspan="2">
                              ----------------------
                            </td>
                          </tr>
                          <tr>
                            <td class="text-left">
                              TOTAL
                            </td>
                            <td class="text-right">
                              <t t-set="total3" t-value="o.get_total_sales_tickets() - o.get_total_returns_tickets_x()"/>
                              <span t-esc="total3" t-esc-options='{"widget": "monetary", "display_currency": "o.currency_id"}'/>
                            </td>
                          </tr>
                        </table>
                        <table style="width:100%;margin-top:15px;">
                          <t t-set="total" t-value="0"/>
                          <tr t-foreach="o.get_payments()" t-as="l">
                            <td class="text-left">
                              <span t-esc="l.get('name')"/>
                            </td>
                            <td class="text-right">
                              <span t-field="o.currency_id.symbol"/><span t-esc="l.get('sum')"/>
                            </td>
                          </tr>
                          <tr>
                            <td align="right" colspan="2">
                              ----------------------
                            </td>
                            <t t-set="total" t-value="total + l.get('sum')"/>
                          </tr>
                          <tr>
                            <td class="text-left">
                              TOTAL
                            </td>
                            <td style="width:50%; !important" class="text-right">
                              <span t-esc="total" t-esc-options='{"widget": "monetary", "display_currency": "o.currency_id"}'/>
                            </td>
                          </tr>
                        </table>




fiscal_position_no_contri_obj = self.env["account.fiscal.position"]
        #fiscal_position_no_contri_obj = fiscal_position_no_contri_obj.search(['sv_contribuyente','=','False'])
        while fiscal_position_no_contri_obj:
            fiscal_position_no_contri_ids = fiscal_position_no_contri_obj.id
        #Facturas de contribuyentes
        pos_order_recibos = []
        pos_order_obj = self.env["pos.order"].search([('invoice_id','!=','False'),('session_id','=',self.id)],order='recibo_number asc')
        """if pos_order_obj and fiscal_position_ids:
            pos_order_recibos = [pos_order_obj.invoice_id for pos_order_obj.fiscal_position_id in fiscal_position_no_contri_ids]
        else:
            pos_order_recibos = [0,0]
        fac_in = pos_order_recibos[0]
        fac_fin = pos_order_recibos[-1]
        invran = "{0}-{1}".format(fac_in,fac_fin)
        _logger.info("Lista de facturas: %r", invarn)
        _logger.warning("Lista de facturas: %r", invarn)
        _logger.error("Lista de facturas: %r", invarn)
        _logger.debug("Lista de recibos: %r", invarn)
        breakpoint()"""



